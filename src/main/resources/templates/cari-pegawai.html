<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
	<object th:include="fragments/fragment :: title" th:remove="tag"></object>
	<object th:include="fragments/fragment :: css" th:remove="tag"></object>
	<object th:include="fragments/fragment :: js" th:remove="tag"></object>
</head>

<body>
	<nav th:replace="fragments/fragment :: navbar"></nav>	
	<div>
		<div class="container">
		<p></p>	
		<p></p>
			<div class="row">
			<div class="col-md-6">
				<div class="card">
					<div class="card-header text-center"><h3 th:text="'Cari Pegawai'"></h3></div>
					<div class="card-body">
						<form th:action="@{/pegawai/cari}" th:object="${pegawai}" method="POST">
							<div class="row">
								<div class="col-md-6">
									<p>Provinsi</p>
								</div>
								<div class="col-md-6">
									<select class="form-control" id="provinsi" >
										<option disabled="disabled" selected="selected">-----
											Pilih Provinsi ----</option>
										<option th:each="provinsi : ${listProvinsi}" th:value="${provinsi.id_provinsi}"
											th:text="${provinsi.nama_provinsi}"></option>
									</select>
								</div>
							</div>
							<div class="row">
								<div class="col-md-6">
									<p>Nama Instansi</p>
								</div>
								<div class="col-md-6">
									<select class="form-control" name="idProvinsi" id="provinsi">
										<option disabled="disabled" selected="selected">-----
											Pilih Instansi ----</option>
										<option th:each="jabatan : ${listJabatan}" th:value="${jabatan.id_jabatan}"
											th:text="${jabatan.nama}"></option>
									</select>
								</div>
							</div>
							<div class="row">
								<div class="col-md-6">
									<p>Jabatan</p>
								</div>
								<div class="col-md-6">
									<select class="form-control" name="idProvinsi" id="provinsi">>
										<option disabled="disabled" selected="selected">-----
											Pilih Jabatan ----</option>
										<option th:each="jabatan : ${listJabatan}" th:value="${jabatan.id_jabatan}"
											th:text="${jabatan.nama}"></option>
									</select>
								</div>
							</div>
							<br>
							<div class="row">
								<div class="col-md-2">
									<button type="submit" class="btn btn-primary">Cari</button>
								</div>
							</div>
						</form>
					</div>
				</div>
			</div>
			</div>
		</div>	
	</div>
	<div id="Content" class="container-full-bg">
			<div class="container vertical-center" style="padding-top: 32px;">
				<div style="margin-left: 2rem; padding-right: 2rem;">
					<table id="example" class="table table-striped table-bordered table-sm display">
						<thead>
							<tr>
								<th>NIP</th>
								<th>Nama</th>
								<th>Tempat Lahir</th>
								<th>Tanggal Lahir</th>
								<th>Tahun Masuk</th>
								<th>Nama Instansi</th>
								<th>Jabatan</th>
							</tr>
						</thead>
						<tr th:each="jabatan,iterationStatus : ${listJabatan}">
							<td th:text="${iterationStatus.count}"></td>
							<td th:text="${jabatan.nama}"></td>
							<td th:text="${jabatan.deskripsi_jabatan}"></td>
						    <td th:text= "${jabatan.getPegawaiList().size()}"></td>							
							<td th:text="'Rp'+${jabatan.gaji_pokok}"></td>
							<td th:text="'Rp'+${jabatan.gaji_pokok}"></td>
							<td th:text="'Rp'+${jabatan.nama}"></td>
						</tr>
					</table>
				</div>
			</div>
			<footer th:replace="fragments/fragment :: footer"></footer>
		</div>
	   <script>
		   $(document).ready(function() {
		       $('#example').DataTable();
		   } );
	  </script>
</body>

</html>